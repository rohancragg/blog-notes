<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Designing domains and DNS for AKS Clusters"><meta name=author content="Rohan Cragg"><link href=https://rohancragg.co.uk/aks/domains/ rel=canonical><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.3.0, mkdocs-material-8.2.9"><title>Clusters of Domains - What I learned today (@rohancragg)</title><link rel=stylesheet href=../../assets/stylesheets/main.120efc48.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.9647289d.min.css><meta name=theme-color content=#7e56c2><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Noto+Sans:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Noto Sans";--md-code-font:"Ubuntu Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><meta property=og:title content="Clusters of Domains"><meta property=og:type content=website><meta content=https://rohancragg.co.uk/aks/domains/ property=og:url><meta property=og:image:url content=https://rohancragg.co.uk/aks/media/dns-zone-alias.png><meta property=og:image:type content=image/png><meta property=og:description content="Designing domains and DNS for AKS Clusters"><meta property=og:locale content=en-GB><meta property=fb:app_id content=245640346829400></head> <body dir=ltr data-md-color-scheme data-md-color-primary=deep-purple data-md-color-accent=green> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#clusters-of-domains-designing-domains-and-dns-for-aks class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="What I learned today (@rohancragg)" class="md-header__button md-logo" aria-label="What I learned today (@rohancragg)" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> What I learned today (@rohancragg) </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Clusters of Domains </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/rohancragg/blog-notes title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> rohancragg/blog-notes </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="What I learned today (@rohancragg)" class="md-nav__button md-logo" aria-label="What I learned today (@rohancragg)" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> What I learned today (@rohancragg) </label> <div class=md-nav__source> <a href=https://github.com/rohancragg/blog-notes title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> rohancragg/blog-notes </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../../about/ class=md-nav__link> About Me </a> </li> <li class=md-nav__item> <a href=../../whats-new/ class=md-nav__link> What's New </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4> Tools & Techniques <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Tools & Techniques" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Tools & Techniques </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../misc/cloud-dev-vms/ class=md-nav__link> A Dev VM in the sky </a> </li> <li class=md-nav__item> <a href=../../misc/shapes/ class=md-nav__link> Import Shapes into Draw.io </a> </li> <li class=md-nav__item> <a href=../../misc/scoop/ class=md-nav__link> Scoop & Co </a> </li> <li class=md-nav__item> <a href=../../misc/git-bash/ class=md-nav__link> Bash Shell on Windows </a> </li> <li class=md-nav__item> <a href=../../misc/ps-module-paths/ class=md-nav__link> About PowerShell Module Paths </a> </li> <li class=md-nav__item> <a href=../../misc/misc/ class=md-nav__link> Miscellanous Notes </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> DevOps <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=DevOps data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> DevOps </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../devops/devops-for-the-terrified/ class=md-nav__link> DevOps for the Terrified </a> </li> <li class=md-nav__item> <a href=../../devops/azdo-self-hosted-build-agents/ class=md-nav__link> Azure DevOps - Self-Hosted Build Agents </a> </li> <li class=md-nav__item> <a href=../../compute/patching-devtestlabs/ class=md-nav__link> VM Patching in DevTest Labs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6 checked> <label class=md-nav__link for=__nav_6> Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Kubernetes data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Clusters and Domains <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Clusters and Domains </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#if-at-first-you-dont-succeed-play class=md-nav__link> If at first you don't succeed - Play! </a> <nav class=md-nav aria-label="If at first you don't succeed - Play!"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trying-out-cert-manager class=md-nav__link> Trying out cert-manager </a> <nav class=md-nav aria-label="Trying out cert-manager"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#when-in-doubt-puchase-a-custom-domain-name class=md-nav__link> When in doubt - Puchase a Custom Domain Name! </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#trying-out-external-dns class=md-nav__link> Trying out external-dns </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#hierarchy-to-the-rescue class=md-nav__link> Hierarchy to the rescue! </a> <nav class=md-nav aria-label="Hierarchy to the rescue!"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#a-dns-zone-per-environment class=md-nav__link> A DNS Zone Per environment </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../create-tls-secret/ class=md-nav__link> Create a TLS Secret </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7> Writing <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Writing data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Writing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../writing/social-media-sharing/ class=md-nav__link> Prettier link sharing with MkDocs </a> </li> <li class=md-nav__item> <a href=../../writing/diagrams/ class=md-nav__link> Technical Diagramming </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#if-at-first-you-dont-succeed-play class=md-nav__link> If at first you don't succeed - Play! </a> <nav class=md-nav aria-label="If at first you don't succeed - Play!"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trying-out-cert-manager class=md-nav__link> Trying out cert-manager </a> <nav class=md-nav aria-label="Trying out cert-manager"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#when-in-doubt-puchase-a-custom-domain-name class=md-nav__link> When in doubt - Puchase a Custom Domain Name! </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#trying-out-external-dns class=md-nav__link> Trying out external-dns </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#hierarchy-to-the-rescue class=md-nav__link> Hierarchy to the rescue! </a> <nav class=md-nav aria-label="Hierarchy to the rescue!"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#a-dns-zone-per-environment class=md-nav__link> A DNS Zone Per environment </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/rohancragg/blog-notes/edit/master/docs/aks/domains.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1 id=clusters-of-domains-designing-domains-and-dns-for-aks>Clusters of Domains - designing domains and DNS for AKS<a class=headerlink href=#clusters-of-domains-designing-domains-and-dns-for-aks title="Permanent link">&para;</a></h1> <p>While the <a href=https://docs.microsoft.com/en-us/azure/dns/ >documentation on Azure DNS</a> (at the time of writing in early 2020)) covers the essentials of what you need to know I personally found it somewhat dry in that it assumed that you knew what you wanted to do with Zones and records and mostly explained how to do create and configure each component piece without providing much context about when and where you need them and how you combine them into a solution to meet requirements.</p> <p>I was finding it initially difficult to synthesise and apply the pieces of information and there was a lack of something to place it all into a real-world solution-design context.</p> <p>For example, how should I expose a suite of web applications or microservices and their APIs to the public internet whilst supporting a 'route to live' set of environments into which to deploy these artefacts so that they can be tested while they are under development.</p> <p>In other words: </p> <blockquote> <p><em>How can I efficiently use domain names to support Development, Testing, Staging, and Production Environments?</em></p> <p><em>Should I use a separate domain name for each Environment?</em></p> <p><em>Do I need to have a separate Kubernetes cluster for each or can I combine custom domain names with one or more clusters in any combination?</em></p> </blockquote> <p>I'll share what I've found so far and hope to answer the above questions.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>While my original design conundrum arose in how to use a custom domain name with one or more AKS clusters, this article will contain information relavant to using domain names with Azure Resources generally</p> </div> <h2 id=if-at-first-you-dont-succeed-play>If at first you don't succeed - Play!<a class=headerlink href=#if-at-first-you-dont-succeed-play title="Permanent link">&para;</a></h2> <p>I knew I wanted to build a solution that would combine <code>cert-manager</code> and <code>external-dns</code> controllers in each Kubernetes cluster so that applications could be deployed without the Application Developers needing to manage either DNS records nor handling certificates or key pairs in deployment pipelines, thus also avoiding any risk of inadvertantly exposing secrets and certificates in source code repositories. </p> <p>My problem was that none of the documentation I could find brought all of these pieces together in a multi-environment solution. I could get pieces working in isolation but how to bring them all together?</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p><strong>The <code>external-dns</code> project</strong></p> <p>This can be installed into a cluster and it watches deployments for any that require DNS records to be created or updated and it manages records in an associated Azure DNS Zone resource.</p> </div> <div class="admonition info"> <p class=admonition-title>Info</p> <p><strong>The <code>cert-manager</code>project</strong> </p> <p>This is a native Kubernetes certificate management controller which can be used to issue certificates automatically. It ensures </p> </div> <p>Initially I felt like I was going round in circles simply trying to get a 'multi-environment' design to occur to me by simply reading the documentation for AKS and for these other open-source components.</p> <p>The break-through came when starting to implement something simple and trying to build towards a more complex solution (I simply didn't know where I was going before I set off - no compass, no map).</p> <h3 id=trying-out-cert-manager>Trying out <code>cert-manager</code><a class=headerlink href=#trying-out-cert-manager title="Permanent link">&para;</a></h3> <p>Since I didn't have a custom domain name I could use I attempted to use the Azure-assigned fully qualified domain name (FQDN). Any AKS cluster into which a Service of type <code>LoadBalancer</code> has been deployed will have a Public IP resource deployed into the cluster-managed Resource Group. Any Azure Public IP (PIP) resource can optionally have a DNS name label applied which will then mean that this address will resolve to the IP address. So that seemed like the simplest way to test <code>cert-manager</code>.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>The documentation states it best:</p> <p><em>"You can specify a DNS domain name label for a public IP resource, which creates a mapping for domainnamelabel.location.cloudapp.azure.com to the public IP address in the Azure-managed DNS servers"</em></p> <p>from: <a href=https://docs.microsoft.com/en-us/azure/virtual-network/virtual-network-ip-addresses-overview-arm>IP address types and allocation methods in Azure &gt; DNS hostname resolution</a></p> </div> <p>So, in my case, given that adding a name label of <code>contosoapps</code> to my PIP the FQDN is therefore <code>contosoapps.westeurope.cloudapp.azure.com</code>.</p> <p>Once this was working I was able to host multiple services, each with an Ingress based on the FQDN. So, for example, the <code>demo-nginx</code> app could be reached with the URL <code>demo-nqinx.contosoapps.westeurope.cloudapp.azure.com</code>.</p> <table> <thead> <tr> <th>Application Name</th> <th>FQDN</th> </tr> </thead> <tbody> <tr> <td>demo-nginx</td> <td>demo-nqinx.contosoapps.westeurope.cloudapp.azure.com</td> </tr> <tr> <td>demo-aspdotnet</td> <td>demo-aspdotnet.contosoapps.westeurope.cloudapp.azure.com</td> </tr> </tbody> </table> <p>But what if I also want to support multiple deployment environments?</p> <table> <thead> <tr> <th>Application Name</th> <th>Environment</th> <th>URL</th> </tr> </thead> <tbody> <tr> <td>demo-nginx</td> <td>Development</td> <td><em>demo-nqinx.**dev*</em>.contosoapps.westeurope.cloudapp.azure.com**</td> </tr> <tr> <td>demo-nginx</td> <td>Staging</td> <td><em>demo-nqinx.**test*</em>.contosoapps.westeurope.cloudapp.azure.com**</td> </tr> <tr> <td>demo-nginx</td> <td>Production</td> <td>demo-nqinx<span></span>.contosoapps.westeurope.cloudapp.azure.com</td> </tr> </tbody> </table> <p>Unfortunately those URLs marked with * indicate that we cannot do this. Possible variations of the above that I considered were:</p> <ul> <li>demo-nqinx.<strong>dev</strong>...</li> <li><strong>dev</strong>.demo-nqinx...</li> <li><strong>dev</strong>-demo-nqinx...</li> </ul> <p>I could not find this documented anywhere but it seems that name labels on Public IP Addresses only support a single label and so we cannot use FQDNS with anything other than 6-part names. In the first two examples above I'm trying to use 7-part names and in the third example I would need more than one name label on the IP address - one for each environment.</p> <h4 id=when-in-doubt-puchase-a-custom-domain-name>When in doubt - Puchase a Custom Domain Name!<a class=headerlink href=#when-in-doubt-puchase-a-custom-domain-name title="Permanent link">&para;</a></h4> <p>So it was clear that I needed to purchase my own Custom Domain Name in order to fully explore and model a realistic scenario with multiple deployment environments. I registered a cheap domain I could use for testing for sake of this article I'll use the name <code>contosoapps.xyz</code>).</p> <p>Once I have a domain I'll somehow need to use an Azure DNS Zone and DNS records in combination with Kubernetes Ingress Controller and Resources to expose a suite of web applications or microservices and their APIs to the public internet.</p> <table> <thead> <tr> <th>Purpose</th> <th>Recordset Name</th> <th>Record Type</th> <th>Alias Resource Type</th> <th>Alias Resource Target</th> </tr> </thead> <tbody> <tr> <td>Production</td> <td>@</td> <td>NS</td> <td></td> <td></td> </tr> <tr> <td>Development Environment Ingress</td> <td>dev</td> <td>A</td> <td>Public IP Address</td> <td>LoadBalancer Service Public IP</td> </tr> <tr> <td>Staging Environment Ingress</td> <td>staging</td> <td>A</td> <td>Public IP Address</td> <td>LoadBalancer Service Public IP</td> </tr> </tbody> </table> <p>This model uses a single DNS Zone resource with an alias record for each Environment we wish to represent. This model works fine for a solution where we only want to use <code>cert-manager</code> is too simplistic if we also want to use <code>external-dns</code> to manage DNS records automatically without knowing all required names ahead of time.</p> <h3 id=trying-out-external-dns>Trying out <code>external-dns</code><a class=headerlink href=#trying-out-external-dns title="Permanent link">&para;</a></h3> <p>The only <a href=https://docs.microsoft.com/en-us/azure/aks/http-application-routing>Microsoft documentation</a> I could find covering <code>externals-dns</code> only applies to a cluster where the HTTP application routing add-on has been enabled and given that this add-on is not recommended for production use I wanted to avoiding this add-on.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p><strong>The HTTP application routing add-on</strong> automatically creates a DNS Zone for you and creates two controllers inside the cluster (an Ingress controller and External-DNS controller) and I wanted to understand how to deploy and manage these components properly without it happening 'auto-magically'!</p> </div> <p>Eventually I was able to piece together the elements of a solution for using <code>external-dns</code> in AKS from <a href=https://github.com/JasonvanBrackel/kubernetes-external-dns-in-rancher>this page</a> (albeit not using Rancher in my case).</p> <p>Again this provided a working demonstration of <code>external-dns</code> on it's own but not in a multi-environment deployment context.</p> <p>My problem is that with <code>external-dns</code> the DNS Zone resource represents the first <em>two parts</em> of my domain name. In this example, my Apex is <code>contosoapp.com</code> which has two parts, and <code>external-dns</code> controller would only manage <em>part three</em> by adding A-records such as <code>dev-app</code> and <code>staging-app</code>) but we'll be limited to three-part names.</p> <h2 id=hierarchy-to-the-rescue>Hierarchy to the rescue!<a class=headerlink href=#hierarchy-to-the-rescue title="Permanent link">&para;</a></h2> <p>This image gave me an idea!:</p> <p><img alt=Image src="../media/dns-zone-alias.png?raw=true"></p> <p>from: <a href=https://docs.microsoft.com/en-us/azure/dns/dns-domain-delegation>docs.microsoft.com/en-us/azure/dns/dns-domain-delegation</a></p> <p>Why not have a hierachy of DNS zone resources?!</p> <p>In a hierarchy of DNS Zone resources a 'parent' one delegates to one or more 'child' DNS Zones. This would enable us to implement my multi-environment model whereby each DNS Zone would be an environment (<code>dev.contosoapps.com</code>, <code>staging.contosoapps.com</code>) and the parent is the production environment (<code>contosoapps.com</code>)</p> <p>I actually tried this out before I'd identified the area of the documentation that explains how to do it: <a href=https://docs.microsoft.com/en-us/azure/dns/delegate-subdomain>Delegate an Azure DNS subdomain</a></p> <p>Once I'd got the idea of DNS zones referencing each other somehow, I went hunting for examples of what the Azure CLI commands for doing this might look like. Whilst searching for <code>az network dns zone</code> I came across a tiny snippet of code here: <a href=https://jwendl.net/code-notes/azure/network/ >jwendl.net/code-notes/azure/network/</a> which hinted at what I needed to do, so I went ahead and tried it.</p> <p>My set of commands to acheive this in Azure CLI <br> <em>this is in PowerShell rather then Bash incidentally</em>:</p> <div class=highlight><pre><span></span><code><span class=nv>$dnsRgName</span><span class=p>=</span><span class=s1>&#39;RG-DNS-Zones&#39;</span>
<span class=nv>$domainName</span><span class=p>=</span><span class=s1>&#39;contosoapps.xyz&#39;</span>
<span class=nv>$dnsZoneId</span><span class=p>=$(</span><span class=n>az</span> <span class=n>network</span> <span class=n>dns</span> <span class=n>zone</span> <span class=n>create</span> <span class=n>-g</span> <span class=nv>$dnsRgName</span> <span class=n>-n</span> <span class=nv>$domainName</span> <span class=p>-</span><span class=n>-query</span> <span class=n>id</span> <span class=n>-o</span> <span class=n>tsv</span><span class=p>)</span>

<span class=nv>$domainNameSub</span><span class=p>=</span><span class=s1>&#39;dev.contosoapps.xyz&#39;</span>
<span class=nv>$dnsZoneIdSub</span><span class=p>=$(</span><span class=n>az</span> <span class=n>network</span> <span class=n>dns</span> <span class=n>zone</span> <span class=n>create</span> <span class=n>-g</span> <span class=nv>$dnsRgName</span> <span class=n>-n</span> <span class=nv>$domainNameSub</span> <span class=p>-</span><span class=n>-query</span> <span class=n>id</span> <span class=n>-o</span> <span class=n>tsv</span><span class=p>)</span>

<span class=c># list name servers for dev (subdomain) zone</span>
<span class=nv>$ns0</span><span class=p>=$(</span><span class=n>az</span> <span class=n>network</span> <span class=n>dns</span> <span class=n>record-set</span> <span class=n>ns</span> <span class=n>show</span> <span class=p>-</span><span class=n>-resource-group</span> <span class=nv>$dnsRgName</span> <span class=p>-</span><span class=n>-zone-name</span> <span class=nv>$domainNameSub</span> <span class=p>-</span><span class=n>-name</span> <span class=s1>&#39;@&#39;</span> <span class=p>-</span><span class=n>-query</span> <span class=s2>&quot;nsRecords[0]&quot;</span> <span class=n>-o</span> <span class=n>tsv</span><span class=p>)</span>
<span class=nv>$ns1</span><span class=p>=$(</span><span class=n>az</span> <span class=n>network</span> <span class=n>dns</span> <span class=n>record-set</span> <span class=n>ns</span> <span class=n>show</span> <span class=p>-</span><span class=n>-resource-group</span> <span class=nv>$dnsRgName</span> <span class=p>-</span><span class=n>-zone-name</span> <span class=nv>$domainNameSub</span> <span class=p>-</span><span class=n>-name</span> <span class=s1>&#39;@&#39;</span> <span class=p>-</span><span class=n>-query</span> <span class=s2>&quot;nsRecords[1]&quot;</span> <span class=n>-o</span> <span class=n>tsv</span><span class=p>)</span>
<span class=nv>$ns2</span><span class=p>=$(</span><span class=n>az</span> <span class=n>network</span> <span class=n>dns</span> <span class=n>record-set</span> <span class=n>ns</span> <span class=n>show</span> <span class=p>-</span><span class=n>-resource-group</span> <span class=nv>$dnsRgName</span> <span class=p>-</span><span class=n>-zone-name</span> <span class=nv>$domainNameSub</span> <span class=p>-</span><span class=n>-name</span> <span class=s1>&#39;@&#39;</span> <span class=p>-</span><span class=n>-query</span> <span class=s2>&quot;nsRecords[2]&quot;</span> <span class=n>-o</span> <span class=n>tsv</span><span class=p>)</span>
<span class=nv>$ns3</span><span class=p>=$(</span><span class=n>az</span> <span class=n>network</span> <span class=n>dns</span> <span class=n>record-set</span> <span class=n>ns</span> <span class=n>show</span> <span class=p>-</span><span class=n>-resource-group</span> <span class=nv>$dnsRgName</span> <span class=p>-</span><span class=n>-zone-name</span> <span class=nv>$domainNameSub</span> <span class=p>-</span><span class=n>-name</span> <span class=s1>&#39;@&#39;</span> <span class=p>-</span><span class=n>-query</span> <span class=s2>&quot;nsRecords[3]&quot;</span> <span class=n>-o</span> <span class=n>tsv</span><span class=p>)</span>

<span class=c># add subdomain NS records to apex zone</span>
<span class=n>az</span> <span class=n>network</span> <span class=n>dns</span> <span class=n>record-set</span> <span class=n>ns</span> <span class=n>create</span> <span class=n>-g</span> <span class=nv>$dnsRgName</span> <span class=n>-z</span> <span class=nv>$domainName</span> <span class=n>-n</span> <span class=s1>&#39;dev&#39;</span>
<span class=n>az</span> <span class=n>network</span> <span class=n>dns</span> <span class=n>record-set</span> <span class=n>ns</span> <span class=nb>add-record</span> <span class=n>-g</span> <span class=nv>$dnsRgName</span> <span class=n>-z</span> <span class=nv>$domainName</span> <span class=p>-</span><span class=n>-record-set-name</span> <span class=s1>&#39;dev&#39;</span> <span class=p>-</span><span class=n>-nsdname</span> <span class=nv>$ns0</span>
<span class=n>az</span> <span class=n>network</span> <span class=n>dns</span> <span class=n>record-set</span> <span class=n>ns</span> <span class=nb>add-record</span> <span class=n>-g</span> <span class=nv>$dnsRgName</span> <span class=n>-z</span> <span class=nv>$domainName</span> <span class=p>-</span><span class=n>-record-set-name</span> <span class=s1>&#39;dev&#39;</span> <span class=p>-</span><span class=n>-nsdname</span> <span class=nv>$ns1</span>
<span class=n>az</span> <span class=n>network</span> <span class=n>dns</span> <span class=n>record-set</span> <span class=n>ns</span> <span class=nb>add-record</span> <span class=n>-g</span> <span class=nv>$dnsRgName</span> <span class=n>-z</span> <span class=nv>$domainName</span> <span class=p>-</span><span class=n>-record-set-name</span> <span class=s1>&#39;dev&#39;</span> <span class=p>-</span><span class=n>-nsdname</span> <span class=nv>$ns2</span>
<span class=n>az</span> <span class=n>network</span> <span class=n>dns</span> <span class=n>record-set</span> <span class=n>ns</span> <span class=nb>add-record</span> <span class=n>-g</span> <span class=nv>$dnsRgName</span> <span class=n>-z</span> <span class=nv>$domainName</span> <span class=p>-</span><span class=n>-record-set-name</span> <span class=s1>&#39;dev&#39;</span> <span class=p>-</span><span class=n>-nsdname</span> <span class=nv>$ns3</span>
</code></pre></div> <div class="admonition info"> <p class=admonition-title>Info</p> <p>** Delegating my custom domain ** As described in the documentation <a href=https://docs.microsoft.com/en-us/azure/dns/dns-delegate-domain-azure-dns#delegate-the-domain>Tutorial: Host your domain in Azure DNS</a>: <br> <em>"In the registrar's DNS management page, edit the NS records and replace the NS records with the Azure DNS name servers."</em></p> </div> <p>In my case this was with <a href=https://123-reg.co.uk>123-reg.co.uk</a> and looks like this:</p> <p><img alt=Image src=../media/registrar-update-nameservers.png></p> <h3 id=a-dns-zone-per-environment>A DNS Zone Per environment<a class=headerlink href=#a-dns-zone-per-environment title="Permanent link">&para;</a></h3> <p>With this solution in place we should now be free to allow an instance of <code>external-dns</code> manage each DNS Zone resource separately.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>In Progress I've yet to actually try this last but - the plan is to flesh this article out step-by-step as I keep trying things!</p> </div> <hr> <div class=md-source-file> <small> Last update: 2020-04-03 </small> </div> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../compute/patching-devtestlabs/ class="md-footer__link md-footer__link--prev" aria-label="Previous: VM Patching in DevTest Labs" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> VM Patching in DevTest Labs </div> </div> </a> <a href=../create-tls-secret/ class="md-footer__link md-footer__link--next" aria-label="Next: Create a TLS Secret" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Create a TLS Secret </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2019 - 2020 Rohan Cragg </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://www.linkedin.com/in/rohancragg target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://twitter.com/rohancragg target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://github.com/rohancragg target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://fb.com/rohancragg target=_blank rel=noopener title=fb.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg> </a> <a href=https://www.instagram.com/rohancragg/ target=_blank rel=noopener title=www.instagram.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg> </a> <a href=https://asciinema.org/~rohancragg target=_blank rel=noopener title=asciinema.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M9.372 86.63c-12.496-12.5-12.496-32.76 0-45.26 12.498-12.49 32.758-12.49 45.258 0L246.6 233.4c12.5 12.5 12.5 32.7 0 45.2l-191.97 192c-12.5 12.5-32.76 12.5-45.258 0-12.496-12.5-12.496-32.7 0-45.2L178.7 256 9.372 86.63zM544 416c17.7 0 32 14.3 32 32s-14.3 32-32 32H256c-17.7 0-32-14.3-32-32s14.3-32 32-32h288z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["tabs", "instant"], "search": "../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../assets/javascripts/bundle.6e54b5cd.min.js></script> <script src=../../js/extra.js></script> <script src=https://platform.linkedin.com/badges/js/profile.js></script> </body> </html>